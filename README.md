CREATE TABLE CLIENTE (
    IDCLIENTE            NUMBER PRIMARY KEY,
    NOMBRECLIENTE        VARCHAR2(40),
    APELLIDOCLIENTE      VARCHAR2(40),
    SEXOCLIENTE          VARCHAR2(1),
    DNICLIENTE           NUMBER,
    DIRECCIONCLIENTE     VARCHAR2(30),
    TELEFONOCLIENTE      VARCHAR2(30),
    ESTADO               VARCHAR2(1),
    IDTIPOCLIENTE    NUMBER REFERENCES TIPO_CLIENTE
);

CREATE TABLE TIPO_CLIENTE (
    IDTIPOCLIENTE            NUMBER PRIMARY KEY,
    NOMBRETIPOCLIENTE        VARCHAR2(40)
);

CREATE TABLE EMPLEADO (
    IDEMPLEADO            NUMBER PRIMARY KEY,
    NOMBREEMPLEADO        VARCHAR2(40),
    APELLIDOEMPLEADO      VARCHAR2(40),
    SEXOEMPLEADO          VARCHAR2(1),
    DNIEMPLEADO           NUMBER,
    DIRECCIONEMPLEADO     VARCHAR2(30),
    TELEFONOEMPLEADO      VARCHAR2(30),
    CLAVEEMPLEADO         NUMBER,
    ESTADO                VARCHAR2(1),
    IDTIPOEMPLEADO        NUMBER REFERENCES TIPO_EMPLEADO
);


CREATE TABLE TIPO_EMPLEADO (
    IDTIPOEMPLEADO            NUMBER PRIMARY KEY,
    NOMBRETIPOEMPLEADO        VARCHAR2(40)
);

CREATE TABLE COMIDA (
    IDCOMIDA              NUMBER PRIMARY KEY,
    NOMBRECOMIDA          VARCHAR2(40),
    DESCRIPCIONCOMIDA     VARCHAR2(50),
    PRECIOCOMIDA          NUMBER,
    ESTADO                VARCHAR2(1),
    IDTIPOCOMIDA          NUMBER REFERENCES TIPO_COMIDA
);

CREATE TABLE TIPO_COMIDA (
    IDTIPOCOMIDA            NUMBER PRIMARY KEY,
    NOMBRETIPOCOMIDA        VARCHAR2(40)
);

CREATE TABLE VENTA (
    IDVENTA            NUMBER PRIMARY KEY,
    FECHAVENTA            VARCHAR2(15),
    TOTALVENTA            NUMBER,
    IDEMPLEADO            NUMBER REFERENCES EMPLEADO,
    IDCLIENTE             NUMBER REFERENCES CLIENTE,
    ESTADO                VARCHAR2(1)
);

CREATE TABLE DETALLE_VENTA (
    IDDETALLEVENTA            NUMBER PRIMARY KEY,
    CANTIDADVENTA             NUMBER,
    IMPORTE                   NUMBER,
    IDVENTA                   NUMBER REFERENCES VENTA,
    IDCOMIDA                  NUMBER REFERENCES EMPLEADO,
    ESTADO                    VARCHAR2(1)
);






CREATE SEQUENCE SQ_CLIENTE
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;

CREATE SEQUENCE SQ_TIPO_CLIENTE
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;

CREATE SEQUENCE SQ_EMPLEADO
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;

CREATE SEQUENCE SQ_TIPO_EMPLEADO
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;

CREATE SEQUENCE SQ_COMIDA
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;

CREATE SEQUENCE SQ_TIPO_COMIDA
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;
CREATE SEQUENCE SQ_VENTA
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;

CREATE SEQUENCE SQ_DETALLE_VENTA
START WITH 1
INCREMENT BY 1
MINVALUE 1
NOCYCLE;

-- INSERTAR DATOS
INSERT INTO TIPO_CLIENTE VALUES (
    SQ_TIPO_CLIENTE.NEXTVAL,
    'VIP'
);

COMMIT;

INSERT INTO cliente VALUES (
    sq_cliente.NEXTVAL,
    'Luz',
    'Flores',
    'F',
    94683015,
    'VES',
    '915 786 358 ',
    'A',
    2
);
COMMIT;

SELECT * FROM CLIENTE;




INSERT INTO tipo_comida VALUES (
    sq_tipo_comida.NEXTVAL,
    'SELVATICO'
);

COMMIT;

SELECT * FROM TIPO_COMIDA;

INSERT INTO COMIDA VALUES (
    SQ_COMIDA.NEXTVAL,
    'Cau cau',
    'sin arroz',
    14,
    'A',
    1
);

SELECT * FROM COMIDA;

COMMIT;

INSERT INTO tipo_empleado VALUES (
    sq_tipo_empleado.NEXTVAL,
    'Seguridad'
);

COMMIT;

INSERT INTO EMPLEADO VALUES (
    SQ_EMPLEADO.NEXTVAL,
    'brayan',
    'carrasco',
    'M',
    98331359,
    'AV.LARCO',
    '203652966',
    564,
    'A',
    2
);

SELECT * FROM EMPLEADO;

INSERT INTO venta VALUES (
    sq_venta.NEXTVAL,
    SYSDATE,
    95,
    1,
    1,
    'A'
);

SELECT * FROM VENTA;

INSERT INTO DETALLE_VENTA VALUES (
    SQ_DETALLE_VENTA.NEXTVAL,
    1,
    20,
    1,
    2,
    'A'
);

DELETE FROM CLIENTE WHERE IDCLIENTE=5;
DELETE FROM EMPLEADO WHERE IDEMPLEADO=4;
DELETE FROM COMIDA WHERE IDCOMIDA=4;
DELETE FROM COMIDA WHERE IDCOMIDA=2;
DELETE FROM CLIENTE WHERE IDCLIENTE=1;
DELETE FROM EMPLEADO WHERE IDEMPLEADO=4;

UPDATE CLIENTE
SET NOMBRECLIENTE = 'Brian'
WHERE IDCLIENTE = 4;

UPDATE CLIENTE
SET NOMBRECLIENTE = 'Pedro'
WHERE IDCLIENTE = 2;

UPDATE EMPLEADO
SET CLAVEEMPLEADO = 154
WHERE IDEMPLEADO = 2;

UPDATE EMPLEADO
SET CLAVEEMPLEADO = 984
WHERE IDEMPLEADO = 7;

UPDATE COMIDA
SET DESCRIPCIONCOMIDA = 'con papas'
WHERE IDCOMIDA = 8;

UPDATE COMIDA
SET DESCRIPCIONCOMIDA= 'Con aji'
WHERE IDCOMIDA=3;

